<h1>
  <img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/53f56237-9cde-48df-a446-8eaad76c8206">
</h1>

<h3 align="center">
    :zzz: A utility to assist with sleeping in virtual reality. :zzz:
</h3>
<h5 align="center">
    :zzz: ãƒãƒ¼ãƒãƒ£ãƒ«ãƒªã‚¢ãƒªãƒ†ã‚£ã®ä¸­ã§ç¡çœ ã‚’ã‚¢ã‚·ã‚¹ãƒˆã™ã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã§ã™ :zzz:
</h5>

<p align="center">
    <a><img alt="Latest Version" src="https://img.shields.io/github/v/tag/Raphiiko/Oyasumi?color=informational&label=version&sort=semver"></a>
    <a><img alt="Development Build Status" src="https://github.com/Raphiiko/Oyasumi/actions/workflows/build-development.yml/badge.svg"/></a>
    <a href="https://github.com/Raphiiko/Oyasumi/blob/develop/LICENSE"><img alt="License" src="https://img.shields.io/github/license/Raphiiko/Oyasumi"></a>
    <br>
    <a href="https://discord.gg/7MqdPJhYxC"><img alt="Discord Badge" src="https://img.shields.io/discord/1023672078672609382?color=5865f2&label=Discord&logo=discord&logoColor=https%3A%2F%2Fshields.io%2Fcategory%2Fother"/></a>
    <a href="https://store.steampowered.com/app/2538150/OyasumiVR__VR_Sleeping_Utilities"><img alt="Steam Page" src="https://img.shields.io/badge/Store-Steam-black?logo=steam"/></a>
    <a href="https://raphiiko.booth.pm/items/4216880"><img alt="Booth.pm Page" src="https://img.shields.io/badge/Store-Booth.pm-red"/></a>
    <a href="https://raphiiko.gumroad.com/l/oyasumi?layout=profile"><img alt="Gumroad Page" src="https://img.shields.io/badge/Store-Gumroad-important"/></a>
    <br>
    If you want to come chat, join our <a href="https://discord.gg/7MqdPJhYxC"><img src="https://user-images.githubusercontent.com/111654848/192362041-f09cc066-a964-446f-aa2c-fa7a7a31ec05.png" width="16" style="fill: white" /> Discord Server!</a>
    <br>
    <a href="https://raphiiko.booth.pm/items/4216880">booth.pmã®ã‚¹ãƒˆã‚¢ãƒšãƒ¼ã‚¸</a>ã«ã¯ã€æ—¥æœ¬èªã®èª¬æ˜æ–‡ãŒæ²è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚<a href="https://github.com/Raphiiko/OyasumiVR/blob/develop/README_TW.md">ä¸­æ–‡çš„èªªæ˜æ‰‹å†Šåœ¨é€™è£¡</a>ã€‚
    <br>
    <br>
    <img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/597f53c7-73b8-46bb-a118-96dccae6730c" width="640">
</p>

## Download & Install

<img align="right" src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/8a18be5c-6698-420e-847a-a5b6f533c8ed" width="180">

Grab our latest installer from whichever place you prefer:

- [Steam](https://store.steampowered.com/app/2538150/OyasumiVR__VR_Sleeping_Utilities/) (_The **recommended method**_)
- Our [releases page](https://github.com/Raphiiko/Oyasumi/releases)
- Our page on [BOOTH.pm](https://raphiiko.booth.pm/items/4216880)
- Our page on [Gumroad](https://raphiiko.gumroad.com/l/oyasumi?layout=profile)

Just run the installer and you should be good to go!

## What is OyasumiVR?

OyasumiVR is a desktop application containing various utilities and automations to **help you sleep with a virtual reality headset on**. Most of these utilities are built specifically for use within the social vr-platform [VRChat](https://vrchat.com). 

OyasumiVR can **detect when you are asleep**, and help you in various ways such as:
- :battery: Saving electricity and battery overnight
- :low_brightness: Dimming your headset brightness
- :sparkles: Triggering avatar animations based on your sleeping pose
- :envelope_with_arrow: Automatically handling invite requests
- :microphone: Muting your microphone when you fall asleep
- :hammer_and_wrench: Automating various SteamVR settings
  
...and many more! Please see the upcoming "Features" section to read more about what functionality OyasumiVR has to offer.
  
## Features

### ğŸ’¤ Sleep Detection
<table>
  <tr>
    <td>
      OyasumiVR can detect automatically when you are asleep, based on your movement! Simply calibrate once, enable the automation, and you're set.
      <br><br>
      If automatic detection is not what you're looking for, there's various alternative automations you can use, that are based on:
      <br><br>
      <ul>
        <li>A time schedule</li>
        <li>Controller & tracker battery levels</li>
        <li>Controller & tracker power states</li>
        <li>SteamVR status</li>
      </ul>
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/cfe464c4-129b-4441-a54c-5ec489b002e2"></td>
  </tr>
</table>

### ğŸ“² SteamVR Overlay
<table>
  <tr>
    <td>
      OyasumiVR comes with its own SteamVR overlay, which allows you control some of its features from within VR! 
      <br><br>
      By default, double press the A button on your right controller, and it should pop up in front of you.
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/1fc76470-fbea-43de-af80-38ee38a927ba"></td>
  </tr>
</table>

### ğŸ”‹ Power Automations
<table>
  <tr>
    <td>
      <b>Controllers & Trackers</b>
      <br>
      Automatically have your controllers and/or trackers turn off when you sleep, and save their battery! You'll be happy when you wake up in the morning and find they'll still have some juice left in them!
      <br>
      <br>
      Additionally, you can have your controllers and/or trackers turn off at certain battery levels, or when you put them on the charger. Ideal for hotswapping controllers!
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/aff14677-c2fe-4309-8b96-950dff59e3b9"></td>
  </tr>
  <tr>
    <td>
      <b>Windows Power Policy</b>
      <br>
      Save some electricity by automatically setting Windows' Power Policy when you go to sleep and wake up! Simply have it set a more conservative policy (like "Power Saver") when you go to sleep, and then restore a higher performance policy when you wake up again.
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/05398894-a058-4715-b66a-067857b90e43"></td>
  </tr>
  <tr>
    <td>
      <b>Base Stations</b>
      <br>
      Have OyasumiVR turn your base stations on and off together with SteamVR. A bit like SteamVR's own base station power management, but <b>compatible with any HMD!</b> As long as your PC supports Bluetooth and is in range of the base stations, you're good to go.
      <br><br>
      <i>Currently only V2 Lighthouses are supported.</i>
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/f624681d-7e52-4b83-900d-6d7f7b45428d"></td>
  </tr>
</table>

### ğŸ”Œ GPU Automations
<table>
  <tr>
    <td>
      <b>GPU Power Limiting</b>
      <br>
      Save electricity by automatically power limiting your GPU when you go to sleep, and restoring its full power when you wake up! Simply set the desired watt limits and OyasumiVR will set them when needed.
      <br><br>
      <i>Power limiting is only available on Nvidia GPUs. AMD users can instead make use of the MSI Afterburner automations.</i>
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/ad20df81-ebb7-48f3-927d-afa007131e6c"></td>
  </tr>
  <tr>
    <td>
      <b>MSI Afterburner</b>
      <br>
      If you want more control over your GPU than just setting the power limit, you can have OyasumiVR automatically activate the profiles you've set up in <a href="https://www.msi.com/Landing/afterburner/">MSI Afterburner</a>.
      Tweak your over- or underclocks, power limits and more, and have OyasumiVR call for them when you go to sleep, or wake up!
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/51c39db0-fa11-4612-8975-8bf642befe82"></td>
  </tr>
</table>

### ğŸ’« VRChat Automations
<table>
  <tr>
    <td>
      ğŸŒœ <b>Sleeping Animations</b>
      <br>
      OyasumiVR can detect what sleeping pose you are in, and use it to trigger the right animation or pose on your avatar. 
      <br><br>
      There are built-in presets for popular locomotion assets, including:
      <br><br>
      <ul>
        <li>
          <a href="https://minminmart.booth.pm/items/2886739">ã”ã‚å¯ã‚·ã‚¹ãƒ†ãƒ  v2.2 - 2.3</a> by <a href="https://twitter.com/minminmeeean">ã¿ã‚“ã¿ã‚“ã¿ãƒ¼ã‚“</a>
          <br>(Sleep System v2.2 - 2.3 by minminmiin)
          <br><a href="https://booth.pm/en/items/4233545">EX version</a> also supported!
        </li>
        <li>
          <a href="https://booth.pm/en/items/3290806">GoGo Loco v1.7.1+</a> by <a href="https://twitter.com/franadaVRC">franada</a>
        </li>
      </ul>
      <br>
      Alternatively, trigger your own animations with the included OSC script editors!
    </td>
    <td width="190">
      <img src="https://user-images.githubusercontent.com/111654848/198073951-85a52109-6fad-4edd-ad53-897a6d8adf12.gif">
    </td>
    <td width="190">
      <img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/1004dbea-2096-4b29-9791-eb78403a63a5">
    </td>
  </tr>
  <tr>
    <td>
      ğŸ“§ <b>Auto Accept Invite Requests</b>
      <br>
      Automatically accept invite requests from specific friends while you are asleep! You can add the friends you want to let in to the whitelist, or even block certain friends from having their requests automatically accepted with a blacklist.
    </td>    
    <td width="380" colspan="2"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/a3778498-b3e4-464a-af91-1f9b74bf134e"></td>
  </tr>
  <tr>
    <td>
      ğŸ”µ <b>Status Automations</b>
      <br>
      Automatically change your status based on the number of players in your world:
      <br><br>
      Switch to blue when you are sleeping alone so your friends can join you, and switch to orange when there's enough people around!
    </td>    
    <td width="380" colspan="2"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/8ff25c9c-8888-4c12-b149-1f68db17eb01"></td>
  </tr>
  <tr>
    <td>
      ğŸ”§ <b>OSC Automations</b>
      <br>
      You can send certain OSC messages to VRChat when sleep mode is enabled, or disabled. You can use the built-in OSC script editor to compose the exact messages you want to send.
      <br><br>
      This is a more advanced feature that you can use use to trigger certain features on your avatar. For example: Show a sleepy expression on your face while sleep mode is enabled!
    </td>
    <td width="380" colspan="2"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/dd98c34b-2cce-4037-aaa9-85cdf722cd83"></td>
  </tr>
</table>

### â›” Shutdown Sequence
<table>
  <tr>
    <td>
      Ever wanted to fall asleep in VR, but not stay in VR all night? The shutdown sequence has you covered!
      <br><br>
      The shutdown sequence can trigger automatically when you've been asleep for a certain amount of time. Depending on which actions you configure, it will do any of the following:
      <br><br>
      <ul>
        <li>Turn off your controllers and/or Trackers</li>
        <li>Turn off your Base Stations</li>
        <li>Quit SteamVR <i>(And any running game or overlay along with it)</i></li>
        <li>Shut down Windows</li>
      </ul>
      <br>
      Now you can fall asleep soundly in VR, knowing that everything will shut down after you've dozed off!
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/4254eb51-6d40-4200-a8ef-af97279a9072"></td>
  </tr>
</table>

### ğŸ”… Brightness Automations
<table>
  <tr>
    <td>
      Automate your brightness for when you sleep and wake up. OyasumiVR can smoothly transition your VR headset's brightness, so it falls down gradually as you sleep without waking you up.
      <br><br>
      It allows you to control both image brightness, as well as display brightness (the LCD backlight) if your headset supports it (e.g. Valve Index). In addition to providing you with several automations, you can easily control your brightness levels right from the SteamVR overlay menu!
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/6b901813-d8b9-41c3-bfaf-59b0a11bf2a8"></td>
  </tr>

</table>

### ğŸ¤ System Microphone Mute Automations
<table>
  <tr>
    <td>
      You can have OyasumiVR automatically mute or unmute your mic when you go to sleep and wake up. Alternatively, you can even switch between mute toggle mode and push-to-talk.
      <br><br>Perfect if you'd like to prevent others from hearing you snore!
      <br><br>
      This comes with an optional mute indicator in the VR overlay, and the option for binding a controller button so that you can have it completely replace the microphone muting functionality of VRChat or any other VR game you play.
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/6c3d3f13-0c88-4af7-96b0-d9ea72acf69c"></td>

  </tr>
</table>

### â™¥ï¸ Heart Rate Automations (Pulsoid Integration)
<table>
  <tr>
    <td colspan="2">
      <img width="60" align="right" src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/e6e73a94-b9c0-4a4b-a3ec-2859e5c01179" />
      To support heart rate based automations, OyasumiVR integrates with the online heart rate service <a href="https://pulsoid.net/pricing?promo_campaign_id=86680152-707d-4771-8a12-740bad1b4545">Pulsoid</a>. For this you can use any hardware that Pulsoid supports, like bluetooth heartrate monitors, WearOS smartwatches, or Apple Watches.
      <br><br>
      <b>Subscribers of their "BRO" plan</b> have the option of connecting their Pulsoid account to provide OyasumiVR with their heart rate data. 
    </td>
  </tr>
  <tr>
    <td>
      <b>Sleep Detection</b>
      <br>
      You can set up OyasumiVR to automatically enable the sleep mode when your heart rate has been low enough for a certain duration. Just set the BPM threshold and for how long your heart rate should stay under it, and you're set! If you're not sure, you can get some simple insights to determine the right values for your body.
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/bcdbb83f-b7b7-49d8-b3f1-39a67b9b619e"></td>
  </tr>
  <tr>
    <td>
      <b>Nightmare Detection</b>
      <br>
      OyasumiVR can detect when you've got a prolonged elevated heartrate, which could indicate a nightmare. With this feature you can try to cut your nightmares short by automatically deactivating the sleep mode (to for example, increase the brightness), or by playing a sound to attempt waking you up. 
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/91ac5113-0400-4888-ba6c-3260f73aee8b"></td>
  </tr>
</table>


### ğŸ‘“ Resolution Automations
<table>
  <tr>
    <td>
      Automatically adjust your SteamVR render resolution when you sleep and wake up! Having OyasumiVR lower your render resolution helps you reduce the load on your hardware at times when you don't need it.
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/fd6a29e2-54fd-428d-8358-63ab9aa73d10"></td>
  </tr>
</table>

### ğŸ”³ Chaperone Automations
<table>
  <tr>
    <td>
      Automatically adjust the fade distance of SteamVR's chaperone when you sleep. If you have a small play area, you can use this to make sure the chaperone stays hidden while you are asleep, and re-enable it when you wake up!
    </td>
    <td width="380"><img src="https://github.com/Raphiiko/OyasumiVR/assets/111654848/ae809124-3f7e-4106-9a4d-7ddf3a8e754e"></td>
  </tr>
</table>

## Translation & Localisation

OyasumiVR currently supports the following languages:
- English
- Dutch (Nederlands)
- Japanese (æ—¥æœ¬èª) (Outsourced + Community contributions by [ãªã](https://twitter.com/NoYu_idea))
- Korean (í•œêµ­ì–´) (Community contribution by [Soumt](https://github.com/soumt-r))
- Traditional Chinese (ç¹é«”ä¸­æ–‡) (Community contribution by [ç‹ Kon](https://github.com/XoF-eLtTiL))
- Simplified Chinese (ç®€ä½“ä¸­æ–‡) (Community contributions by [ç‹ Kon](https://github.com/XoF-eLtTiL) and [é›¾é›¨èŠ±ç²¾çµ](https://twitter.com/u_flower_elf))
- French (FranÃ§ais) (Community contribution by [neuroblack](https://github.com/neuroblack)) (**Looking for additional maintainer!**)
- Spanish (EspaÃ±ol) (Community contribution by [aacal666](https://twitter.com/aacalde666))
- Indonesian (Bahasa Indonesia) (Community contribution by [a9ito](https://twitter.com/a9ito))

### Help out with translation

OyasumiVR would not have supported as many languages as it does without the help of our fantastic volunteers. I personally think it's amazing that thanks to their efforts, more people get to use OyasumiVR than would otherwise have been possible.

If you want to support us, either by contributing missing translations, or by adding an entirely new language, please check out [the wiki page on adding translations](https://github.com/Raphiiko/Oyasumi/wiki/Adding-Translations) for instructions on how to get started! In case you're looking for more information, please don't hesitate to hop in our [Discord](https://discord.gg/7MqdPJhYxC) and ask!

## Supported Hardware

### Battery Automations

Currently OyasumiVR supports turning off devices using its battery automations for all SteamVR devices that:

1. Support reporting for battery levels and charging status
2. Support being turned off via SteamVR.

This includes, but is not limited to the following devices:

- HTC Vive Controllers/Wands
- Index Controllers/Knuckles
- Vive Trackers (1.0/2.0/3.0)
- Tundra Trackers\*

This means that any Oculus controller is unlikely to work, and SlimeVR trackers are unsupported unless they implement this functionality in their [OpenVR driver](https://github.com/SlimeVR/SlimeVR-OpenVR-Driver).

_(\*) Tundra trackers have very delayed reporting of battery levels and charging status. This means that while battery automations will still work, they will be very delayed (minutes in the double digits), unless Tundra fixes this in their tracker firmware._

### GPU Automations

Any NVIDIA or AMD graphics card that is supported by MSI Afterburner can be automated by having OyasumiVR activate the profiles you've set up within MSI Afterburner.

Directly controlling the power limits of your graphics card with OyasumiVR is only supported with NVIDIA cards. AMD users will have to use the MSI Afterburner profile automations to be able to control their power limits with OyasumiVR.

### Brightness Automations

Controlling the display brightness (read 'LCD backlight') of the VR headset's display is only supported on the Valve Index. 

Image brightness control is available on all headsets.

## Built With

OyasumiVR's has been built with:

- [Angular](https://angular.io/) (TypeScript, Main UI)
- [Tauri](https://tauri.app/) (Rust, Desktop Framework)
- [SvelteKit](https://kit.svelte.dev/) (TypeScript, Overlay UI)
- [.NET](https://dotnet.microsoft.com/en-us/) (C#, Overlay)

## Development

Please see our wiki page on [Starting Development](https://github.com/Raphiiko/OyasumiVR/wiki/Starting-Development).

## VRChat

Some features of OyasumiVR require you to log in with your VRChat account for them to work. (E.g. status automations)

This is only required for features that rely on this. You can use features that don't rely on this without having to provide credentials.
Your login credentials will never be stored anywhere but your own machine, and are only ever sent to VRChat's servers for authentication purposes.

OyasumiVR isn't endorsed by VRChat and doesn't reflect the views or opinions of VRChat or anyone officially involved in producing or managing VRChat. VRChat is a trademark of VRChat inc. VRChat Â© VRChat Inc.

The OyasumiVR developer and any of this project's contributors are not responsible for any problems caused by OyasumiVR (to your VRChat account or otherwise). Use at your own risk.

## Support
If you are having trouble with OyasumiVR, say you have a bug, or a feature request, you can join our [Discord server](https://discord.gg/7MqdPJhYxC).

Alternatively, you can reach out to me directly on [Twitter at @Raphiiko](https://twitter.com/Raphiiko). I'll try to get back to you as soon as possible!

## License

OyasumiVR is available under the [MIT](https://github.com/Raphiiko/OyasumiVR/blob/develop/LICENSE.md) license.
